# Daily Notes - Sunday, February 22, 2026

## Key Accomplishments

### KDP Updates
- Updated KDP backend keywords (7 slots, 50 char limit per slot - learned the hard way)
- Final keyword slots: behavioral psychology branding / books like influence cialdini / decision making cognitive bias / human behavior brain science business / consumer persuasion marketing strategy / applied economics mental models / predictably irrational nudge fast slow
- KDP categories updated: Medical Books > Psychology > Applied Psychology + Business categories
- Kindle eBook category tree is DIFFERENT from Paperback tree — Medical eBooks has no Psychology subcategory
- New book description written (no em dashes, Cialdini-positioning, A10-optimized)
- Paperback confirmed published (KDP email received)

### QMD Memory System
- QMD is installed and ACTIVE at `/Users/paul/.openclaw/agents/main/qmd/xdg-cache/`
- OpenClaw config updated: `memory.backend = "qmd"` with sessions enabled
- 4 collections indexed: memory-root-main, memory-alt-main, memory-dir-main, sessions-main
- 37 files / 167 embeddings active after gateway restart
- Paul allowed `node` Desktop access in macOS security dialog

### Claude Code Installed
- Installed via `npm install -g @anthropic-ai/claude-code` then upgraded with `claude install`
- Native binary at `~/.local/bin/claude` - PATH added to `~/.zshrc`
- Auth conflict warning = harmless (uses ANTHROPIC_API_KEY env var automatically)
- To use: `cd /opt/homebrew/lib/node_modules/openclaw` then `claude`

### Brand Value Canvas v2
- New zip file received from Paul - full React/Vite/TypeScript app with Gemini AI integration
- Extracted to: `memory/projects/brand-value-canvas-v2/`
- Firebase CLI installed: `npm install -g firebase-tools` (v15.7.0)
- Dev server running on Mac Mini at http://192.168.1.205:3000 (Vite, port 3000)
- Gemini API key: `[REDACTED]` (stored in .env.local)
- vite.config.ts: `allowedHosts: true` to allow cross-machine access

### Brand Value Canvas Changes Applied
1. AI prompts rewritten to use "Divided Brain" methodology (Old Brain / New Brain / The Bridge)
2. UI labels: "THE NEW BRAIN (Logical)" / "THE OLD BRAIN (Emotional)"
3. Landing page headline: "Does Your Brand Speak to Both Brains?"
4. Color scheme: stripped pastels → high-contrast slate/black/white, amber only for AI/value elements
5. Auto-sort rows by highest score (descending) on any score change
6. Top-scoring row highlighted with amber border/background
7. Single-row sections also get highlighted if score > 0
8. Removed "Total Brand Value" display box
9. Instructions modal rewritten with Divided Brain terminology
10. AI Brainstorm button added (amber, uses generateCanvasContent)
11. Keeping gemini-3-flash-preview (not upgrading to 3.1) for cost reasons on free public tool
12. PENDING: Fix uneven spacing between canvas sections (Needs/Pains/Desires) - still unresolved

### Model Switch
- Switched active session model to `sonnet` (claude-sonnet-4-6) at ~2:29 PM to help debug spacing issue

### Brand Value Canvas – Late Session Fixes (4:45 PM)
- **Outer white card container removed**: Stripped `bg-white rounded-2xl shadow-xl border border-slate-200` wrapper from canvas; replaced with plain `<div className="flex flex-col">` to stop overflow clipping
- **Section spacing root fix**: All three sidebars (Needs, Pains, Desires) converted to `relative` + `absolute inset-0` layout so they don't force row height; eliminated uneven vertical spacing between sections
  - Needs sidebar: `justify-end`
  - Pains sidebar: split gradient halves
  - Desires sidebar: `justify-start`
- **No `overflow-x-auto` on canvas**: Removed to prevent implicit `overflow-y: auto` clipping; horizontal scroll handled natively by browser
- **Sidebar overflow-hidden fix** (in progress at session end): Sidebar wrapper divs at lines 242, 285, 307, 329 in Canvas.tsx need `overflow-hidden` so absolutely positioned vertical text ("THE OLD BRAIN (EMOTIONAL)") doesn't bleed outside section boundaries
- **Project path confirmed**: `/Users/paul/.openclaw/workspace/projects/brand-value-canvas-v2/`
- **Key modified files**: Canvas.tsx, CanvasRow.tsx, CanvasSection.tsx, InstructionsModal.tsx, LandingPage.tsx, services/geminiService.ts
- **Canvas structure**: 3 flex rows (Needs/Pains/Desires), each with `w-14` sidebar + `flex-grow p-6` content column containing `<CanvasSection>`
- **Row score formula**: `customerScore + brandScore + uniqueScore` (all 1-5 integers per types.ts)
- **Dev server**: Session `tender-seaslug`, pid 19191 — restart if crashed: `cd /Users/paul/.openclaw/workspace/projects/brand-value-canvas-v2 && npm run dev`

### Mission Control App (5:00 PM session)
- Subagent context was lost during compaction — main agent rebuilt the app from scratch
- All pages written: Dashboard, Docs, Memory, Tasks, Tools, Amazon Ads, LinkedIn, System, Team
- All API routes written: /api/tree, /api/files, /api/memory, /api/tasks, /api/system, /api/list
- `next.config.ts` has `allowedDevOrigins: ['192.168.1.205']` — DO NOT change this again
- Dev server session: `calm-bison`, port 3001
- **WORKFLOW_AUTO.md created** to prevent post-compaction redo issues
- QMD re-embedded: 24 pending docs flushed, 105 new chunks indexed

## Pending Items Carried Forward
- Brand Value Canvas spacing fix (Needs/Desires sections have more whitespace than Pains)
- Firebase deployment of Brand Value Canvas (firebase login done, init hosting pending)
- Mobile responsiveness for Brand Value Canvas (horizontal scroll enabled but not fully responsive)
- Ollama update to v0.16.3 + Qwen3 pull (deferred by Paul)
- Perplexity API key still 401
- LinkedIn posts #2 and #3 still to draft
- Google Billing quota cap for Gemini API (to prevent cost overruns on public tool)

## Writing Rules Confirmed
- NEVER use em dashes (—) in any generated copy, descriptions, or social posts
- Model for this session switched to sonnet mid-session

## AGENTS.md + Workspace File Research (5:30 PM)
- Initiated research on best practices for all workspace files (AGENTS.md, SOUL.md, USER.md, MEMORY.md, HEARTBEAT.md, IDENTITY.md, TOOLS.md, BOOTSTRAP.md)
- 4 parallel searches run; key URLs found:
  - https://docs.openclaw.ai/concepts/agent-workspace (official file list)
  - https://github.com/CodeAlive-AI/awesome-openclaw/blob/main/OPENCLAW_BEST_PRACTICES.md
  - https://openclaw-setup.me/blog/openclaw-memory-files/
  - https://github.com/aaronjmars/soul.md
  - https://agents.md/ + https://www.aihero.dev/a-complete-guide-to-agents-md
- **Key findings:**
  - No duplication across files: SOUL = behavior, MEMORY = facts, AGENTS = startup instructions
  - AGENTS.md target: ≤150 lines (concise procedural memory only)
  - Instruction hierarchy: system > developer > user > retrieved content (spell it out)
  - SOUL.md should encode persona + hard constraints + working style (not just persona)
- **AGENTS.md issues identified:**
  - Wrong daily path (`memory/` vs `memory/daily/`)
  - No WORKFLOW_AUTO.md reference
  - Stale BOOTSTRAP.md section
  - `sag`/ElevenLabs TTS not configured (don't advertise unavailable tools)
  - `memory/heartbeat-state.json` usage unclear
  - Model routing absent (it belongs in SOUL.md and openclaw.json, not AGENTS.md)
- **Pending:** Paul needs to answer 2 questions before AGENTS.md rewrite:
  1. Keep "read these files every session" startup instruction or replace with "search QMD for context before acting"?
  2. Is `memory/heartbeat-state.json` actually being used, or drop that section?
- Session hit compaction before research URLs could be deep-read; research continues next session

## Notes
- Session context very large (338k tokens / 32%) at time of memory flush
- Dev server keeps crashing when making rapid file edits - need to restart after each batch
